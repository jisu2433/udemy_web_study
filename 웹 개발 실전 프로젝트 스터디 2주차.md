# 웹 개발 실전 프로젝트 스터디 2주차

## 11. DOM이란?

### 11-1. DOM 개요

**웹 페이지를 구성하는 JavaScript 객체들의 집합**

- 문서 객체에는 모든 정보가 담겨있음
- 메서드나 특성을 이용해 정보 변경 가능

### 11-2. Selecting

`getElementById()`

- 일치하는 `id`를 찾음, 없으면 `undefined`

```jsx
const image = document.getElementById("unicorn");
const heading = document.getElementById("mainheading");
```

`getElementsByTagName()`

- 일치하는 태그를 모두 찾음
- 배열 같은 객체인 HTML 집합을 반환

`getElementsByClassName()`

- 일치하는 클래스를 모두 찾음
- 배열 같은 객체인 HTML 집합을 반환

`querySelector()`

- 어떤 것이든 찾음
- 첫 번째로 일치하는 값을 반환
- JavaScript 객체 반환

`querySelectorAll()`

- 일치하는 모든 요소 반환

```jsx
const doneTodos = document.querySelectorAll(".done");
const checkbox = document.querySelector("input:nth-of-type(2)");

// class가 done인 요소 다 찾음
// 두번째 input 찾음
```

### 11-3. innerHTML, textContent, & innerText

`textContent`

- 요소 안에 있는 모든 요소를 반환

`innerText`

- 텍스트만 반환

`innerHTML`

- 특정 요소에 포함된 마크업의 전체 내용 출력
- HTML 자체에서 직접 가져오게 된다.

```jsx
document.querySelector('span').innerText = "Disgusting”
```

### 11-4. 속성(Attributes)

`getAttribute()`

- 속성 나타냄

`setAttribute()`

- 속성 변경 가능

```jsx
let image = document.querySelector("img");
image.setAttribute(
  "src",
  "[https://devsprouthosting.com/images/chicken.jpg](https://devsprouthosting.com/images/chicken.jpg)"
);
image.setAttribute("alt", "chicken");
```

### 11-5. 스타일 변경하기

```jsx
const div = document.querySelector("#container");
div.style.textAlign = "center";
const image = document.querySelector("img");
image.style.width = "150px";
image.style.borderRadius = "50%";
```

```jsx
1. 첫 풀이
const colors = ['red', 'orange', 'yellow', 'green', 'blue', 'indigo', 'violet'];

const spans = document.querySelectorAll('h1 span');
spans.forEach((item, index) => {
item.style.color = colors[index];
})

2. 두번째 풀이
const spans = document.querySelectorAll('h1 span');
for(let i=0; i<colors.length; i++){
    spans[i].style.color = colors[i];
}
```

### 11-6. ClassList

- 요소에 현재 class 적용

```jsx
const li = document.querySelectorAll("li");
for (let i of li) {
  i.classList.toggle("highlight");
}
```

### 11-7. 계층 이동

`.parentElement`

- 위로 이동

`.childElementCount`

- 자식 요소의 개수를 알려줌

`.previousElementSibling`

- 이전 형제 요소

`.nextElementSibling`

- 다음 형제 요소

### 11-8. 새로운 요소 만들기, 제거하기

`document.createElement(만들고 싶은 요소의 타입)`

`document.body.appendChild()`

- body 마지막에 추가

```jsx
const container = document.querySelector("#container");
for (let i = 0; i < 100; i++) {
  let btn = document.createElement("button");
  btn.innerText = "Hey!";
  container.appendChild(btn);
}
```

`removeChild()`

제거하려는 요소의 부모에 메서드를 호출해야 함

`remove()`

부모나 자식 신경 No~

## 12. DOM 이벤트

### 12-1. 인라인 이벤트

- 추천하지 않는 방법

```jsx
<h1 onClick="console.log('boo')">Inline Events Suck...</h1>
<button id="btn" onClick="console.log('clicked')">Click Me</button>
```

### 12-2. OnClick 속성

- 추천하는 방법

```jsx
const btn = document.querySelector("button");

btn.onclick = function () {
  console.log("You clicked me!");
};
```

- 재사용 가능
- 여러 개 적용 가능

### 12-3. addEventListener

`addEventListener(’이벤트 종류’, 콜백)`

- 어떤 이벤트도 전달 가능
- 하나의 객체에 여러 개의 이벤트 추가 가능

```jsx
const firstBtn = document.querySelector("#hello");
const secondBtn = document.querySelector("#goodbye");

firstBtn.addEventListener("click", () => {
  console.log("hello");
});

secondBtn.addEventListener("click", () => {
  console.log("goodbye");
});
```

### 12-4. 이벤트와 this 키워드

```jsx
const buttons = document.querySelectorAll("button");

for (let button of buttons) {
  button.addEventListener("click", colorize);
}

const divs = document.querySelectorAll("div");

for (let div of divs) {
  div.addEventListener("click", colorize);
}

function colorize() {
  this.style.backgroundColor = makeRandColor();
  this.style.color = makeRandColor();
}
//this로 코드를 중복할 필요 없이 다른 이벤트에 추가
```

### 12-5. 키보드 이벤트와 이벤트 객체

```jsx
const input = document.querySelector("input");
input.addEventListener("keydown", (e) => {
  console.log(e.key); // 입력 값, 글자
  console.log(e.code); // 키보드에서의 실제 위치
});
```

### 12-6. 폼 이벤트와 PreventDefault

```jsx
const tweetForm = document.querySelector("#tweetForm");
const tweetsContainer = document.querySelector("#tweets");

tweetForm.addEventListener("submit", (e) => {
  e.preventDefault(); //기본 동작 안하게 멈춤
  //const usernameInput = document.querySelectorAll('input')[0];
  //const tweetInput = document.querySelectorAll('input')[1];
  const usernameInput = tweetForm.elements.username;
  const tweetInput = tweetForm.elements.tweet;
  addTweet(usernameInput.value, tweetInput.value);
  usernameInput.value = "";
  tweetInput.value = "";
});

const addTweet = (username, tweet) => {
  const newTweet = document.createElement("li");
  const bTag = document.createElement("b");
  bTag.append(username);
  newTweet.append(bTag);
  newTweet.append(`- ${tweet}`);
  tweetsContainer.append(newTweet);
};
```
